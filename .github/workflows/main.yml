---
name: Test

on: [push]

jobs:
 build:
   runs-on: ubuntu-latest
  
   steps:
   # This action checks out the code from the repository
   - name: Checkout Code     
     uses: actions/checkout@v2

   # This action sets up the JFrog CLI with the Artifactory URL and access token     
   - uses: jfrog/setup-jfrog-cli@v3 
     env:
    # JFrog platform url (for example: https://acme.jfrog.io) 
      JF_URL: ${{ secrets.JF_URL }}
      
      # Basic authentication credentials
      JF_USER: ${{ secrets.JF_USER }}
      JF_PASSWORD: ${{ secrets.JF_PASSWORD }}

   - run: |
       jf rt ping
       jf mvn-config --server-id-resolve=https://sarangeplus.jfrog.io/artifactory --server-id-deploy https://sarangeplus.jfrog.io/artifactory --repo-resolve-releases test-libs-release --repo-resolve-snapshots test-libs-snapshot --repo-deploy-releases test-libs-snapshot-local --repo-deploy-snapshots test-libs-release-local
Copy Command

       jf mvn clean install 
       jf mvn clean deploy --build-name=roja/test/maven --build-number=1 -DbuildInfo.env.publisher.publishBuildInfo=true
       
